<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="906px" preserveAspectRatio="none" style="width:1174px;height:906px;background:#FFFFFF;" version="1.1" viewBox="0 0 1174 906" width="1174px" zoomAndPan="magnify"><defs><filter height="300%" id="fk5ntp0ypyw5a" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fk5ntp0ypyw5a)" height="773.543" style="stroke:#A80036;stroke-width:1.0;" width="10" x="141.5" y="71.7988"/><rect fill="#FFFFFF" filter="url(#fk5ntp0ypyw5a)" height="40.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="146.5" y="192.041"/><rect fill="#FFFFFF" filter="url(#fk5ntp0ypyw5a)" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="309.5" y="101.1094"/><rect fill="#FFFFFF" filter="url(#fk5ntp0ypyw5a)" height="14" style="stroke:#A80036;stroke-width:1.0;" width="10" x="630" y="788.0313"/><rect fill="#FFFFFF" filter="url(#fk5ntp0ypyw5a)" height="50.7988" style="stroke:#A80036;stroke-width:1.0;" width="10" x="810.5" y="335.1504"/><rect fill="#FFFFFF" filter="url(#fk5ntp0ypyw5a)" height="72.6211" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1115.5" y="758.7207"/><rect fill="#FFFFFF" filter="url(#fk5ntp0ypyw5a)" height="539.502" style="stroke:#000000;stroke-width:2.0;" width="1038" x="69" y="145.4199"/><rect fill="#FFFFFF" height="437.5703" style="stroke:none;stroke-width:1.0;" width="1038" x="69" y="247.3516"/><rect fill="#FFFFFF" filter="url(#fk5ntp0ypyw5a)" height="376.082" style="stroke:#000000;stroke-width:2.0;" width="1018" x="79" y="301.8398"/><rect fill="#FFFFFF" filter="url(#fk5ntp0ypyw5a)" height="211.3516" style="stroke:#000000;stroke-width:2.0;" width="998" x="89" y="430.2598"/><rect fill="#FFFFFF" filter="url(#fk5ntp0ypyw5a)" height="46.6211" style="stroke:#000000;stroke-width:2.0;" width="978" x="99" y="558.6797"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="52" x2="52" y1="40.4883" y2="863.3418"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="146" x2="146" y1="40.4883" y2="863.3418"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="314" x2="314" y1="40.4883" y2="863.3418"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="464" x2="464" y1="40.4883" y2="863.3418"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="635" x2="635" y1="282.0957" y2="863.3418"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="815" x2="815" y1="351.8945" y2="863.3418"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="987" x2="987" y1="480.3145" y2="863.3418"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1120" x2="1120" y1="724.666" y2="863.3418"/><rect fill="#FEFECE" filter="url(#fk5ntp0ypyw5a)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="90" x="5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="12" y="25.5352">CLIverShelf</text><rect fill="#FEFECE" filter="url(#fk5ntp0ypyw5a)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="90" x="5" y="862.3418"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="12" y="882.877">CLIverShelf</text><rect fill="#FEFECE" filter="url(#fk5ntp0ypyw5a)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="71" x="109" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="116" y="25.5352">:Storage</text><rect fill="#FEFECE" filter="url(#fk5ntp0ypyw5a)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="71" x="109" y="862.3418"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="116" y="882.877">:Storage</text><rect fill="#FEFECE" filter="url(#fk5ntp0ypyw5a)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="131" x="247" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="254" y="25.5352">shelfList:ShelfList</text><rect fill="#FEFECE" filter="url(#fk5ntp0ypyw5a)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="131" x="247" y="862.3418"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="254" y="882.877">shelfList:ShelfList</text><rect fill="#FEFECE" filter="url(#fk5ntp0ypyw5a)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="140" x="392" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126" x="399" y="25.5352">currentShelf: Shelf</text><rect fill="#FEFECE" filter="url(#fk5ntp0ypyw5a)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="140" x="392" y="862.3418"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126" x="399" y="882.877">currentShelf: Shelf</text><rect fill="#FEFECE" filter="url(#fk5ntp0ypyw5a)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="174" x="546" y="862.3418"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="160" x="553" y="882.877">storedData: JSONObject</text><rect fill="#FEFECE" filter="url(#fk5ntp0ypyw5a)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="159" x="734" y="862.3418"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145" x="741" y="882.877">shelfInfo: JSONObject</text><rect fill="#FEFECE" filter="url(#fk5ntp0ypyw5a)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="156" x="907" y="862.3418"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="142" x="914" y="882.877">itemInfo: JSONObject</text><rect fill="#FEFECE" filter="url(#fk5ntp0ypyw5a)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="83" x="1077" y="862.3418"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="1084" y="882.877">:FileWriter</text><rect fill="#FFFFFF" filter="url(#fk5ntp0ypyw5a)" height="773.543" style="stroke:#A80036;stroke-width:1.0;" width="10" x="141.5" y="71.7988"/><rect fill="#FFFFFF" filter="url(#fk5ntp0ypyw5a)" height="40.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="146.5" y="192.041"/><rect fill="#FFFFFF" filter="url(#fk5ntp0ypyw5a)" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="309.5" y="101.1094"/><rect fill="#FFFFFF" filter="url(#fk5ntp0ypyw5a)" height="14" style="stroke:#A80036;stroke-width:1.0;" width="10" x="630" y="788.0313"/><rect fill="#FFFFFF" filter="url(#fk5ntp0ypyw5a)" height="50.7988" style="stroke:#A80036;stroke-width:1.0;" width="10" x="810.5" y="335.1504"/><rect fill="#FFFFFF" filter="url(#fk5ntp0ypyw5a)" height="72.6211" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1115.5" y="758.7207"/><polygon fill="#A80036" points="129.5,67.7988,139.5,71.7988,129.5,75.7988,133.5,71.7988" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="52" x2="135.5" y1="71.7988" y2="71.7988"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="59" y="67.0566">saveData()</text><polygon fill="#A80036" points="297.5,97.1094,307.5,101.1094,297.5,105.1094,301.5,101.1094" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="151.5" x2="303.5" y1="101.1094" y2="101.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="158.5" y="96.3672">getAllShelvesName()</text><polygon fill="#A80036" points="162.5,126.4199,152.5,130.4199,162.5,134.4199,158.5,130.4199" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="156.5" x2="313.5" y1="130.4199" y2="130.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="168.5" y="125.6777">nameOfAllShelves</text><path d="M69,145.4199 L131,145.4199 L131,152.4199 L121,162.4199 L69,162.4199 L69,145.4199 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="539.502" style="stroke:#000000;stroke-width:2.0;" width="1038" x="69" y="145.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="84" y="158.9883">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="162" x="146" y="158.0547">[nameOfAllShelves.isBlank()]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="151.5" x2="198.5" y1="179.041" y2="179.041"/><line style="stroke:#A80036;stroke-width:1.0;" x1="198.5" x2="198.5" y1="179.041" y2="192.041"/><line style="stroke:#A80036;stroke-width:1.0;" x1="157.5" x2="198.5" y1="192.041" y2="192.041"/><polygon fill="#A80036" points="167.5,188.041,157.5,192.041,167.5,196.041,163.5,192.041" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="163.5" y="174.2988">sampleData()</text><line style="stroke:#A80036;stroke-width:1.0;" x1="156.5" x2="198.5" y1="231.3516" y2="231.3516"/><line style="stroke:#A80036;stroke-width:1.0;" x1="198.5" x2="198.5" y1="231.3516" y2="244.3516"/><line style="stroke:#A80036;stroke-width:1.0;" x1="151.5" x2="198.5" y1="244.3516" y2="244.3516"/><polygon fill="#A80036" points="161.5,240.3516,151.5,244.3516,161.5,248.3516,157.5,244.3516" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69" x="163.5" y="226.6094">storedData</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="69" x2="1107" y1="248.3516" y2="248.3516"/><polygon fill="#A80036" points="534,251.3516,544,255.3516,534,259.3516,538,255.3516" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="151.5" x2="540" y1="255.3516" y2="255.3516"/><rect fill="#FEFECE" filter="url(#fk5ntp0ypyw5a)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="174" x="546" y="249.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="160" x="553" y="269.8867">storedData: JSONObject</text><path d="M79,301.8398 L153,301.8398 L153,308.8398 L143,318.8398 L79,318.8398 L79,301.8398 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="376.082" style="stroke:#000000;stroke-width:2.0;" width="1018" x="79" y="301.8398"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29" x="94" y="315.4082">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="251" x="168" y="314.4746">[for each nameOfShelf in nameOfAllShelves]</text><polygon fill="#A80036" points="722,321.1504,732,325.1504,722,329.1504,726,325.1504" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="151.5" x2="728" y1="325.1504" y2="325.1504"/><rect fill="#FEFECE" filter="url(#fk5ntp0ypyw5a)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="159" x="734" y="319.1504"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145" x="741" y="339.6855">shelfInfo: JSONObject</text><polygon fill="#A80036" points="162.5,381.9492,152.5,385.9492,162.5,389.9492,158.5,385.9492" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="156.5" x2="814.5" y1="385.9492" y2="385.9492"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56" x="168.5" y="381.207">shelfInfo</text><polygon fill="#A80036" points="302.5,411.2598,312.5,415.2598,302.5,419.2598,306.5,415.2598" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="151.5" x2="308.5" y1="415.2598" y2="415.2598"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="158.5" y="410.5176">getShelf(nameOfShelf)</text><path d="M89,430.2598 L163,430.2598 L163,437.2598 L153,447.2598 L89,447.2598 L89,430.2598 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="211.3516" style="stroke:#000000;stroke-width:2.0;" width="998" x="89" y="430.2598"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29" x="104" y="443.8281">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="201" x="178" y="442.8945">[for each itemName in currentShelf]</text><polygon fill="#A80036" points="895,449.5703,905,453.5703,895,457.5703,899,453.5703" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="151.5" x2="901" y1="453.5703" y2="453.5703"/><rect fill="#FEFECE" filter="url(#fk5ntp0ypyw5a)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="156" x="907" y="447.5703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="142" x="914" y="468.1055">itemInfo: JSONObject</text><polygon fill="#A80036" points="452,510.3691,462,514.3691,452,518.3691,456,514.3691" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="151.5" x2="458" y1="514.3691" y2="514.3691"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="158.5" y="509.627">getItem(itemName)</text><polygon fill="#A80036" points="975,539.6797,985,543.6797,975,547.6797,979,543.6797" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="151.5" x2="981" y1="543.6797" y2="543.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208" x="158.5" y="538.9375">put name, cost, price and remark</text><path d="M99,558.6797 L166,558.6797 L166,565.6797 L156,575.6797 L99,575.6797 L99,558.6797 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="46.6211" style="stroke:#000000;stroke-width:2.0;" width="978" x="99" y="558.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="22" x="114" y="572.248">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="100" x="181" y="571.3145">[item is SoldItem]</text><polygon fill="#A80036" points="975,593.3008,985,597.3008,975,601.3008,979,597.3008" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="151.5" x2="981" y1="597.3008" y2="597.3008"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="158.5" y="592.5586">put saleTime</text><polygon fill="#A80036" points="803.5,629.6113,813.5,633.6113,803.5,637.6113,807.5,633.6113" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="151.5" x2="809.5" y1="633.6113" y2="633.6113"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="231" x="158.5" y="628.8691">get("items").put(itemName, itemInfo)</text><line style="stroke:#A80036;stroke-width:2.0;" x1="978" x2="996" y1="624.6113" y2="642.6113"/><line style="stroke:#A80036;stroke-width:2.0;" x1="978" x2="996" y1="642.6113" y2="624.6113"/><polygon fill="#A80036" points="623,665.9219,633,669.9219,623,673.9219,627,669.9219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="151.5" x2="629" y1="669.9219" y2="669.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="158.5" y="665.1797">put(nameOfShelf, shelfInfo)</text><line style="stroke:#A80036;stroke-width:2.0;" x1="806.5" x2="824.5" y1="660.9219" y2="678.9219"/><line style="stroke:#A80036;stroke-width:2.0;" x1="806.5" x2="824.5" y1="678.9219" y2="660.9219"/><polygon fill="#A80036" points="1065,709.2324,1075,713.2324,1065,717.2324,1069,713.2324" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="151.5" x2="1071" y1="713.2324" y2="713.2324"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195" x="158.5" y="708.4902">new FileWriter(STORAGE_PATH)</text><rect fill="#FEFECE" filter="url(#fk5ntp0ypyw5a)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="83" x="1077" y="691.9219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="1084" y="712.457">:FileWriter</text><polygon fill="#A80036" points="1103.5,754.7207,1113.5,758.7207,1103.5,762.7207,1107.5,758.7207" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="151.5" x2="1109.5" y1="758.7207" y2="758.7207"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62" x="158.5" y="753.9785">write data</text><polygon fill="#A80036" points="651,784.0313,641,788.0313,651,792.0313,647,788.0313" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="645" x2="1114.5" y1="788.0313" y2="788.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="657" y="783.2891">toString()</text><polygon fill="#A80036" points="1103.5,798.0313,1113.5,802.0313,1103.5,806.0313,1107.5,802.0313" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="635" x2="1109.5" y1="802.0313" y2="802.0313"/><polygon fill="#A80036" points="1108.5,827.3418,1118.5,831.3418,1108.5,835.3418,1112.5,831.3418" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="151.5" x2="1114.5" y1="831.3418" y2="831.3418"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41" x="158.5" y="826.5996">close()</text><line style="stroke:#A80036;stroke-width:2.0;" x1="1111.5" x2="1129.5" y1="822.3418" y2="840.3418"/><line style="stroke:#A80036;stroke-width:2.0;" x1="1111.5" x2="1129.5" y1="840.3418" y2="822.3418"/><polygon fill="#A80036" points="63,841.3418,53,845.3418,63,849.3418,59,845.3418" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="57" x2="145.5" y1="845.3418" y2="845.3418"/><line style="stroke:#A80036;stroke-width:2.0;" x1="305.5" x2="323.5" y1="836.3418" y2="854.3418"/><line style="stroke:#A80036;stroke-width:2.0;" x1="305.5" x2="323.5" y1="854.3418" y2="836.3418"/><line style="stroke:#A80036;stroke-width:2.0;" x1="455" x2="473" y1="836.3418" y2="854.3418"/><line style="stroke:#A80036;stroke-width:2.0;" x1="455" x2="473" y1="854.3418" y2="836.3418"/><line style="stroke:#A80036;stroke-width:2.0;" x1="626" x2="644" y1="836.3418" y2="854.3418"/><line style="stroke:#A80036;stroke-width:2.0;" x1="626" x2="644" y1="854.3418" y2="836.3418"/><!--MD5=[9dc8eb04b38dd4a138f35fe0640f6123]
@startuml

participant CLIverShelf as app
participant ":Storage" as storage
participant "shelfList:ShelfList" as shelfList
participant "currentShelf: Shelf" as currentShelf
participant "storedData: JSONObject" as storedData
participant "shelfInfo: JSONObject" as shelfInfo
participant "itemInfo: JSONObject" as itemInfo
participant ":FileWriter" as FileWriter

app -> storage:saveData()
activate storage
storage -> shelfList:getAllShelvesName()
activate shelfList
shelfList -> storage: nameOfAllShelves
deactivate shelfList
alt nameOfAllShelves.isBlank()

    storage -> storage: sampleData()
    activate storage
    storage -> storage: storedData
    deactivate storage

else

    storage -> storedData **
    loop for each nameOfShelf in nameOfAllShelves

        storage -> shelfInfo **
        activate shelfInfo
        shelfInfo -> storage: shelfInfo
        deactivate shelfInfo
        storage -> shelfList:getShelf(nameOfShelf)
        loop for each itemName in currentShelf

            storage -> itemInfo **
            storage -> currentShelf: getItem(itemName)
            storage -> itemInfo: put name, cost, price and remark

            opt item is SoldItem
                storage -> itemInfo: put saleTime
                end

            storage -> shelfInfo: get("items").put(itemName, itemInfo)
            destroy itemInfo
            end
        storage -> storedData: put(nameOfShelf, shelfInfo)
        destroy shelfInfo
        end

    end
storage -> FileWriter **: new FileWriter(STORAGE_PATH)
storage -> FileWriter: write data
activate FileWriter
FileWriter -> storedData: toString()
activate storedData
storedData -> FileWriter
deactivate storedData
storage -> FileWriter !! : close()
storage -> app
deactivate storage
destroy shelfList
destroy currentShelf
destroy storedData


@enduml

PlantUML version 1.2021.11(Sat Oct 02 21:26:11 SGT 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: zh
Country: SG
--></g></svg>