<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1095px" preserveAspectRatio="none" style="width:1398px;height:1095px;background:#FFFFFF;" version="1.1" viewBox="0 0 1398 1095" width="1398px" zoomAndPan="magnify"><defs><filter height="300%" id="f1h0kupihjc07o" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1h0kupihjc07o)" height="962.0957" style="stroke:#A80036;stroke-width:1.0;" width="10" x="141.5" y="71.7988"/><rect fill="#FFFFFF" filter="url(#f1h0kupihjc07o)" height="504.8359" style="stroke:#A80036;stroke-width:1.0;" width="10" x="146.5" y="508.0586"/><rect fill="#FFFFFF" filter="url(#f1h0kupihjc07o)" height="188.7305" style="stroke:#A80036;stroke-width:1.0;" width="10" x="328.5" y="170.9082"/><rect fill="#FFFFFF" filter="url(#f1h0kupihjc07o)" height="40.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="333.5" y="253.707"/><rect fill="#FFFFFF" filter="url(#f1h0kupihjc07o)" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="328.5" y="395.9492"/><rect fill="#FFFFFF" filter="url(#f1h0kupihjc07o)" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="611" y="670.7891"/><rect fill="#FFFFFF" filter="url(#f1h0kupihjc07o)" height="74.7988" style="stroke:#A80036;stroke-width:1.0;" width="10" x="775.5" y="566.6797"/><rect fill="#FFFFFF" filter="url(#f1h0kupihjc07o)" height="50.7988" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1075" y="802.0313"/><rect fill="#FFFFFF" filter="url(#f1h0kupihjc07o)" height="50.7988" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1251" y="891.7852"/><rect fill="#FFFFFF" filter="url(#f1h0kupihjc07o)" height="235.3516" style="stroke:#000000;stroke-width:2.0;" width="430" x="99" y="132.2871"/><rect fill="#FFFFFF" filter="url(#f1h0kupihjc07o)" height="465.8359" style="stroke:#000000;stroke-width:2.0;" width="1305" x="79" y="528.0586"/><rect fill="#FFFFFF" filter="url(#f1h0kupihjc07o)" height="271.7949" style="stroke:#000000;stroke-width:2.0;" width="1285" x="89" y="715.0996"/><rect fill="#FFFFFF" filter="url(#f1h0kupihjc07o)" height="181.8633" style="stroke:#000000;stroke-width:2.0;" width="1265" x="99" y="768.7207"/><rect fill="#FFFFFF" height="89.7539" style="stroke:none;stroke-width:1.0;" width="1265" x="99" y="860.8301"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="52" x2="52" y1="40.4883" y2="1051.8945"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="146" x2="146" y1="40.4883" y2="1051.8945"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="333" x2="333" y1="112.543" y2="1051.8945"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="475" x2="475" y1="211.6523" y2="1051.8945"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="616" x2="616" y1="466.0039" y2="1051.8945"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="780" x2="780" y1="40.4883" y2="1051.8945"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="930" x2="930" y1="607.4238" y2="1051.8945"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1080" x2="1080" y1="818.7754" y2="1051.8945"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1256" x2="1256" y1="908.5293" y2="1051.8945"/><rect fill="#FEFECE" filter="url(#f1h0kupihjc07o)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="90" x="5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="12" y="25.5352">CLIverShelf</text><rect fill="#FEFECE" filter="url(#f1h0kupihjc07o)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="90" x="5" y="1050.8945"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="12" y="1071.4297">CLIverShelf</text><rect fill="#FEFECE" filter="url(#f1h0kupihjc07o)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="71" x="109" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="116" y="25.5352">:Storage</text><rect fill="#FEFECE" filter="url(#f1h0kupihjc07o)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="71" x="109" y="1050.8945"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="116" y="1071.4297">:Storage</text><rect fill="#FEFECE" filter="url(#f1h0kupihjc07o)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="63" x="300" y="1050.8945"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="307" y="1071.4297">file:File</text><rect fill="#FEFECE" filter="url(#f1h0kupihjc07o)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="83" x="432" y="1050.8945"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="439" y="1071.4297">:FileWriter</text><rect fill="#FEFECE" filter="url(#f1h0kupihjc07o)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="170" x="529" y="1050.8945"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="156" x="536" y="1071.4297">storedData:JSONObject</text><rect fill="#FEFECE" filter="url(#f1h0kupihjc07o)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="131" x="713" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="720" y="25.5352">shelfList:ShelfList</text><rect fill="#FEFECE" filter="url(#f1h0kupihjc07o)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="131" x="713" y="1050.8945"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="720" y="1071.4297">shelfList:ShelfList</text><rect fill="#FEFECE" filter="url(#f1h0kupihjc07o)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="140" x="858" y="1050.8945"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126" x="865" y="1071.4297">currentShelf: Shelf</text><rect fill="#FEFECE" filter="url(#f1h0kupihjc07o)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="132" x="1012" y="1050.8945"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="1019" y="1071.4297">currentItem: Item</text><rect fill="#FEFECE" filter="url(#f1h0kupihjc07o)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="192" x="1158" y="1050.8945"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="178" x="1165" y="1071.4297">currentSoldItem: SoldItem</text><rect fill="#FFFFFF" filter="url(#f1h0kupihjc07o)" height="962.0957" style="stroke:#A80036;stroke-width:1.0;" width="10" x="141.5" y="71.7988"/><rect fill="#FFFFFF" filter="url(#f1h0kupihjc07o)" height="504.8359" style="stroke:#A80036;stroke-width:1.0;" width="10" x="146.5" y="508.0586"/><rect fill="#FFFFFF" filter="url(#f1h0kupihjc07o)" height="188.7305" style="stroke:#A80036;stroke-width:1.0;" width="10" x="328.5" y="170.9082"/><rect fill="#FFFFFF" filter="url(#f1h0kupihjc07o)" height="40.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="333.5" y="253.707"/><rect fill="#FFFFFF" filter="url(#f1h0kupihjc07o)" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="328.5" y="395.9492"/><rect fill="#FFFFFF" filter="url(#f1h0kupihjc07o)" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="611" y="670.7891"/><rect fill="#FFFFFF" filter="url(#f1h0kupihjc07o)" height="74.7988" style="stroke:#A80036;stroke-width:1.0;" width="10" x="775.5" y="566.6797"/><rect fill="#FFFFFF" filter="url(#f1h0kupihjc07o)" height="50.7988" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1075" y="802.0313"/><rect fill="#FFFFFF" filter="url(#f1h0kupihjc07o)" height="50.7988" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1251" y="891.7852"/><polygon fill="#A80036" points="129.5,67.7988,139.5,71.7988,129.5,75.7988,133.5,71.7988" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="52" x2="135.5" y1="71.7988" y2="71.7988"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64" x="59" y="67.0566">loadData()</text><polygon fill="#A80036" points="288,81.7988,298,85.7988,288,89.7988,292,85.7988" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="151.5" x2="294" y1="85.7988" y2="85.7988"/><rect fill="#FEFECE" filter="url(#f1h0kupihjc07o)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="63" x="300" y="79.7988"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="307" y="100.334">file:File</text><path d="M99,132.2871 L166,132.2871 L166,139.2871 L156,149.2871 L99,149.2871 L99,132.2871 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="235.3516" style="stroke:#000000;stroke-width:2.0;" width="430" x="99" y="132.2871"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="22" x="114" y="145.8555">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="79" x="181" y="144.9219">[file not exist]</text><polygon fill="#A80036" points="316.5,166.9082,326.5,170.9082,316.5,174.9082,320.5,170.9082" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="151.5" x2="322.5" y1="170.9082" y2="170.9082"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95" x="158.5" y="166.166">createNewFile()</text><polygon fill="#A80036" points="420,180.9082,430,184.9082,420,188.9082,424,184.9082" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="338.5" x2="426" y1="184.9082" y2="184.9082"/><rect fill="#FEFECE" filter="url(#f1h0kupihjc07o)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="83" x="432" y="178.9082"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="439" y="199.4434">:FileWriter</text><line style="stroke:#A80036;stroke-width:1.0;" x1="338.5" x2="385.5" y1="240.707" y2="240.707"/><line style="stroke:#A80036;stroke-width:1.0;" x1="385.5" x2="385.5" y1="240.707" y2="253.707"/><line style="stroke:#A80036;stroke-width:1.0;" x1="344.5" x2="385.5" y1="253.707" y2="253.707"/><polygon fill="#A80036" points="354.5,249.707,344.5,253.707,354.5,257.707,350.5,253.707" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="350.5" y="235.9648">sampleData()</text><line style="stroke:#A80036;stroke-width:1.0;" x1="343.5" x2="385.5" y1="293.0176" y2="293.0176"/><line style="stroke:#A80036;stroke-width:1.0;" x1="385.5" x2="385.5" y1="293.0176" y2="306.0176"/><line style="stroke:#A80036;stroke-width:1.0;" x1="338.5" x2="385.5" y1="306.0176" y2="306.0176"/><polygon fill="#A80036" points="348.5,302.0176,338.5,306.0176,348.5,310.0176,344.5,306.0176" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74" x="350.5" y="288.2754">sampleData</text><polygon fill="#A80036" points="463.5,326.3281,473.5,330.3281,463.5,334.3281,467.5,330.3281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="338.5" x2="469.5" y1="330.3281" y2="330.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="345.5" y="325.5859">write(sampleData)</text><polygon fill="#A80036" points="463.5,355.6387,473.5,359.6387,463.5,363.6387,467.5,359.6387" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="333.5" x2="469.5" y1="359.6387" y2="359.6387"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41" x="340.5" y="354.8965">close()</text><line style="stroke:#A80036;stroke-width:2.0;" x1="466.5" x2="484.5" y1="350.6387" y2="368.6387"/><line style="stroke:#A80036;stroke-width:2.0;" x1="466.5" x2="484.5" y1="368.6387" y2="350.6387"/><polygon fill="#A80036" points="316.5,391.9492,326.5,395.9492,316.5,399.9492,320.5,395.9492" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="151.5" x2="322.5" y1="395.9492" y2="395.9492"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="158.5" y="391.207">readString()</text><polygon fill="#A80036" points="162.5,421.2598,152.5,425.2598,162.5,429.2598,158.5,425.2598" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="156.5" x2="332.5" y1="425.2598" y2="425.2598"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="168.5" y="420.5176">text</text><polygon fill="#A80036" points="517,450.5703,527,454.5703,517,458.5703,521,454.5703" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="151.5" x2="523" y1="454.5703" y2="454.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134" x="158.5" y="449.8281">new JSONObject(text)</text><rect fill="#FEFECE" filter="url(#f1h0kupihjc07o)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="170" x="529" y="433.2598"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="156" x="536" y="453.7949">storedData:JSONObject</text><line style="stroke:#A80036;stroke-width:1.0;" x1="151.5" x2="198.5" y1="495.0586" y2="495.0586"/><line style="stroke:#A80036;stroke-width:1.0;" x1="198.5" x2="198.5" y1="495.0586" y2="508.0586"/><line style="stroke:#A80036;stroke-width:1.0;" x1="157.5" x2="198.5" y1="508.0586" y2="508.0586"/><polygon fill="#A80036" points="167.5,504.0586,157.5,508.0586,167.5,512.0586,163.5,508.0586" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163" x="163.5" y="490.3164">loadFromJson(storedData)</text><path d="M79,528.0586 L153,528.0586 L153,535.0586 L143,545.0586 L79,545.0586 L79,528.0586 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="465.8359" style="stroke:#000000;stroke-width:2.0;" width="1305" x="79" y="528.0586"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29" x="94" y="541.627">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="231" x="168" y="540.6934">[for all shelfName in storedData.keySet()]</text><polygon fill="#A80036" points="763.5,562.6797,773.5,566.6797,763.5,570.6797,767.5,566.6797" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="156.5" x2="769.5" y1="566.6797" y2="566.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="163.5" y="561.9375">addShelf(shelfName)</text><polygon fill="#A80036" points="846,576.6797,856,580.6797,846,584.6797,850,580.6797" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="785.5" x2="852" y1="580.6797" y2="580.6797"/><rect fill="#FEFECE" filter="url(#f1h0kupihjc07o)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="140" x="858" y="574.6797"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126" x="865" y="595.2148">currentShelf: Shelf</text><polygon fill="#A80036" points="167.5,637.4785,157.5,641.4785,167.5,645.4785,163.5,641.4785" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="161.5" x2="779.5" y1="641.4785" y2="641.4785"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="173.5" y="636.7363">currentShelf</text><polygon fill="#A80036" points="599,666.7891,609,670.7891,599,674.7891,603,670.7891" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="156.5" x2="605" y1="670.7891" y2="670.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="369" x="163.5" y="666.0469">getJSONObject(shelfName).getJSONObject("items").keySet()</text><polygon fill="#A80036" points="167.5,696.0996,157.5,700.0996,167.5,704.0996,163.5,700.0996" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="161.5" x2="615" y1="700.0996" y2="700.0996"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71" x="173.5" y="695.3574">itemNames</text><path d="M89,715.0996 L163,715.0996 L163,722.0996 L153,732.0996 L89,732.0996 L89,715.0996 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="271.7949" style="stroke:#000000;stroke-width:2.0;" width="1285" x="89" y="715.0996"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29" x="104" y="728.668">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="184" x="178" y="727.7344">[for all itemName in itemNames]</text><polygon fill="#A80036" points="604,749.7207,614,753.7207,604,757.7207,608,753.7207" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="156.5" x2="610" y1="753.7207" y2="753.7207"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="331" x="163.5" y="748.9785">get information about the item with name itemName</text><path d="M99,768.7207 L161,768.7207 L161,775.7207 L151,785.7207 L99,785.7207 L99,768.7207 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="181.8633" style="stroke:#000000;stroke-width:2.0;" width="1265" x="99" y="768.7207"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="114" y="782.2891">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="132" x="176" y="781.3555">[item is not a soldItem]</text><polygon fill="#A80036" points="1000,788.0313,1010,792.0313,1000,796.0313,1004,792.0313" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="156.5" x2="1006" y1="792.0313" y2="792.0313"/><rect fill="#FEFECE" filter="url(#f1h0kupihjc07o)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="132" x="1012" y="786.0313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="1019" y="806.5664">currentItem: Item</text><polygon fill="#A80036" points="167.5,848.8301,157.5,852.8301,167.5,856.8301,163.5,852.8301" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="161.5" x2="1079" y1="852.8301" y2="852.8301"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28" x="173.5" y="848.0879">item</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="99" x2="1364" y1="861.8301" y2="861.8301"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="110" x="104" y="872.4648">[item is a soldItem]</text><polygon fill="#A80036" points="1146,877.7852,1156,881.7852,1146,885.7852,1150,881.7852" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="156.5" x2="1152" y1="881.7852" y2="881.7852"/><rect fill="#FEFECE" filter="url(#f1h0kupihjc07o)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="192" x="1158" y="875.7852"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="178" x="1165" y="896.3203">currentSoldItem: SoldItem</text><polygon fill="#A80036" points="167.5,938.584,157.5,942.584,167.5,946.584,163.5,942.584" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="161.5" x2="1255" y1="942.584" y2="942.584"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28" x="173.5" y="937.8418">item</text><polygon fill="#A80036" points="918,974.8945,928,978.8945,918,982.8945,922,978.8945" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="156.5" x2="924" y1="978.8945" y2="978.8945"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87" x="163.5" y="974.1523">addItem(item)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="156.5" x2="198.5" y1="1011.8945" y2="1011.8945"/><line style="stroke:#A80036;stroke-width:1.0;" x1="198.5" x2="198.5" y1="1011.8945" y2="1024.8945"/><line style="stroke:#A80036;stroke-width:1.0;" x1="151.5" x2="198.5" y1="1024.8945" y2="1024.8945"/><polygon fill="#A80036" points="161.5,1020.8945,151.5,1024.8945,161.5,1028.8945,157.5,1024.8945" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="63,1029.8945,53,1033.8945,63,1037.8945,59,1033.8945" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="57" x2="145.5" y1="1033.8945" y2="1033.8945"/><line style="stroke:#A80036;stroke-width:2.0;" x1="324.5" x2="342.5" y1="1024.8945" y2="1042.8945"/><line style="stroke:#A80036;stroke-width:2.0;" x1="324.5" x2="342.5" y1="1042.8945" y2="1024.8945"/><line style="stroke:#A80036;stroke-width:2.0;" x1="607" x2="625" y1="1024.8945" y2="1042.8945"/><line style="stroke:#A80036;stroke-width:2.0;" x1="607" x2="625" y1="1042.8945" y2="1024.8945"/><!--MD5=[bd9a1165435337d212f03f228e0cc11f]
@startuml

participant CLIverShelf as app
participant ":Storage" as storage
participant "file:File" as file
participant ":FileWriter" as FileWriter
participant "storedData:JSONObject" as storedData
participant "shelfList:ShelfList" as shelfList
participant "currentShelf: Shelf" as currentShelf
participant "currentItem: Item" as currentItem
participant "currentSoldItem: SoldItem" as currentSoldItem

app->storage:loadData()
activate storage
storage -> file**
opt file not exist
    storage -> file:createNewFile()
    activate file
    file -> FileWriter **
    file -> file:sampleData()
    activate file
    file -> file: sampleData
    deactivate file
    file -> FileWriter: write(sampleData)
    file -> FileWriter !!:close()
    deactivate file
    end
storage -> file: readString()
activate file
file -> storage: text
deactivate file
storage -> storedData**: new JSONObject(text)
storage -> storage:loadFromJson(storedData)
activate storage
loop for all shelfName in storedData.keySet()
    storage -> shelfList:addShelf(shelfName)
    activate shelfList
    shelfList -> currentShelf**
    shelfList -> storage: currentShelf
    deactivate shelfList
    storage -> storedData: getJSONObject(shelfName).getJSONObject("items").keySet()
    activate storedData
    storedData -> storage: itemNames
    deactivate storedData
    loop for all itemName in itemNames
        storage -> storedData: get information about the item with name itemName
        alt item is not a soldItem
            storage -> currentItem**
            activate currentItem
            currentItem -> storage:item
            deactivate currentItem
        else item is a soldItem
            storage -> currentSoldItem**
            activate currentSoldItem
            currentSoldItem -> storage:item
            deactivate currentSoldItem
        end
        storage -> currentShelf: addItem(item)
        end
    end
storage -> storage
deactivate
storage -> app
deactivate
destroy file
destroy storedData

@enduml

PlantUML version 1.2021.11(Sat Oct 02 21:26:11 SGT 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: zh
Country: SG
--></g></svg>