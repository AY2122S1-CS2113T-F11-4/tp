@startuml
'https://plantuml.com/sequence-diagram
!include Style.puml

participant ":CLIverShelf" as Main
participant ":Parser" as Parser
participant "newCommand: \nReportCommand" as Command
participant "newSalesReport: \nSalesReport" as SalesReport

activate Main
Main -> Parser: parseCommand(input)
activate Parser
Parser -> Parser: prepareReportCommand(input)
activate Parser
Parser -> Command **: new ReportCommand(arguments)
deactivate Parser
activate Command
Command --> Parser
deactivate Command
Parser --> Main: new ReportCommand
deactivate Parser

Main -> Command: execute()
activate Command
Command -> SalesReport **: new SalesReport(timeSpan)
activate SalesReport
SalesReport --> Command
deactivate SalesReport
alt type.equals("stats")
    Command -> SalesReport: generateSoldItemStats()
    activate SalesReport
    SalesReport --> Command: statsReport
    deactivate SalesReport
else
    Command -> SalesReport: generateSoldItemDetails()
    activate SalesReport
    SalesReport --> Command: detailsReport
    deactivate SalesReport
end
Command --> Main: report
deactivate Command
deactivate Main
destroy SalesReport
destroy Command


@enduml